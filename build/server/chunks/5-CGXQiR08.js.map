{"version":3,"file":"5-CGXQiR08.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/5.js"],"sourcesContent":["import { f as fail, r as redirect } from \"../../../chunks/index.js\";\nimport { c as checkLoginUser, a as createUser } from \"../../../chunks/user.js\";\nconst actions = {\n  //@ts-expect-error types not generated by svelte-kit\n  login: async ({ cookies, request }) => {\n    const data = await request.formData();\n    const username = data.get(\"username\");\n    const password = data.get(\"password\");\n    console.log(\"Logging in user:\", username, password);\n    if (!await checkLoginUser(username, password)) {\n      return fail(403, { loginfail: true, reason: \"Invalid username or password\" });\n    }\n    cookies.set(\"user\", username, { path: \"/\" });\n    throw redirect(303, \"/\");\n  },\n  //@ts-expect-error types not generated by svelte-kit\n  register: async ({ cookies, request }) => {\n    const data = await request.formData();\n    const username = data.get(\"username\");\n    const password = data.get(\"password\");\n    console.log(\"Registering user:\", username, password);\n    const success = await createUser(username, password);\n    if (!success) {\n      return fail(403, { registerfail: true, reason: \"Username already exists\" });\n    }\n    cookies.set(\"user\", username, { path: \"/\" });\n    throw redirect(303, \"/\");\n  },\n  //@ts-expect-error types not generated by svelte-kit\n  logout: ({ cookies }) => {\n    cookies.set(\"user\", \"\", { path: \"/\", maxAge: 0 });\n    throw redirect(303, \"/\");\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/login/_page.server.ts.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/login/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/login/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/5.BauUdRlu.js\",\"_app/immutable/chunks/scheduler.Cewbzyqj.js\",\"_app/immutable/chunks/index.4GcxwhY7.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;AAEA,MAAM,OAAO,GAAG;AAChB;AACA,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AACzC,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACxD,IAAI,IAAI,CAAC,MAAM,cAAc,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE;AACnD,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,8BAA8B,EAAE,CAAC,CAAC;AACpF,KAAK;AACL,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;AACjD,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC7B,GAAG;AACH;AACA,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK;AAC5C,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACzD,IAAI,MAAM,OAAO,GAAG,MAAM,UAAU,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACzD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,OAAO,IAAI,CAAC,GAAG,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,yBAAyB,EAAE,CAAC,CAAC;AAClF,KAAK;AACL,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;AACjD,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC7B,GAAG;AACH;AACA,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK;AAC3B,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;AACtD,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC7B,GAAG;AACH,CAAC;;;;;;;AC/BW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAwC,CAAC,EAAE,QAAQ;AAE9G,MAAC,SAAS,GAAG,mCAAmC;AAChD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,EAAE;AAC1I,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}